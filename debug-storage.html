<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Storage - IG Nation</title>
    <style>
        body {
            font-family: 'Segoe UI', monospace;
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 2rem;
        }
        h1 { color: #4ec9b0; }
        h2 { color: #dcdcaa; margin-top: 2rem; }
        pre {
            background: #2d2d2d;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid #3e3e3e;
        }
        button {
            background: #0e639c;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.5rem 0.5rem 0.5rem 0;
            font-weight: 600;
        }
        button:hover {
            background: #1177bb;
        }
        .btn-danger {
            background: #c72e0f;
        }
        .btn-danger:hover {
            background: #e03e1e;
        }
        .btn-success {
            background: #107c10;
        }
        .btn-success:hover {
            background: #0f8b0f;
        }
    </style>
</head>
<body>
    <h1>üîç LocalStorage Debug Tool</h1>
    
    <button onclick="checkData()">Refresh Data</button>
    <button onclick="fixPhysicsData()" class="btn-success">Fix Physics Data</button>
    <button onclick="clearAll()" class="btn-danger">Clear All Data</button>
    <button onclick="window.location.href='admin-panel.html'">Back to Admin</button>
    
    <div id="output"></div>
    
    <script>
        function checkData() {
            const output = document.getElementById('output');
            let html = '';
            
            // Check Mathematics
            html += '<h2>üìê Mathematics Data</h2>';
            const mathContent = localStorage.getItem('mathematicsContentData');
            const mathFolders = localStorage.getItem('mathematicsFolders');
            html += '<h3>mathematicsContentData:</h3>';
            html += `<pre>${mathContent ? JSON.stringify(JSON.parse(mathContent), null, 2) : 'NULL'}</pre>`;
            html += '<h3>mathematicsFolders:</h3>';
            html += `<pre>${mathFolders ? JSON.stringify(JSON.parse(mathFolders), null, 2) : 'NULL'}</pre>`;
            
            // Check Physics
            html += '<h2>‚öõÔ∏è Physics Data</h2>';
            const physicsContent = localStorage.getItem('physicsContentData');
            const physicsFolders = localStorage.getItem('physicsFolders');
            html += '<h3>physicsContentData:</h3>';
            html += `<pre>${physicsContent ? JSON.stringify(JSON.parse(physicsContent), null, 2) : 'NULL'}</pre>`;
            html += '<h3>physicsFolders:</h3>';
            html += `<pre>${physicsFolders ? JSON.stringify(JSON.parse(physicsFolders), null, 2) : 'NULL'}</pre>`;
            
            // Check English
            html += '<h2>üìö English Data</h2>';
            const englishContent = localStorage.getItem('englishContentData');
            const englishFolders = localStorage.getItem('englishFolders');
            html += '<h3>englishContentData:</h3>';
            html += `<pre>${englishContent ? JSON.stringify(JSON.parse(englishContent), null, 2) : 'NULL'}</pre>`;
            html += '<h3>englishFolders:</h3>';
            html += `<pre>${englishFolders ? JSON.stringify(JSON.parse(englishFolders), null, 2) : 'NULL'}</pre>`;
            
            output.innerHTML = html;
        }
        
        function fixPhysicsData() {
            const physicsFolders = JSON.parse(localStorage.getItem('physicsFolders') || '[]');
            
            if (physicsFolders.length === 0) {
                alert('No physics folders found to sync');
                return;
            }
            
            // Sync to physicsContentData
            const physicsContentData = {
                folders: physicsFolders.map(folder => ({
                    id: folder.id,
                    name: folder.name,
                    type: 'folder',
                    category: folder.category,
                    created: folder.created,
                    folders: [],
                    files: []
                })),
                files: []
            };
            
            localStorage.setItem('physicsContentData', JSON.stringify(physicsContentData));
            
            alert(`‚úÖ Synced ${physicsFolders.length} folder(s) to physicsContentData!\n\nRefresh the physics content manager page.`);
            checkData();
        }
        
        function clearAll() {
            if (confirm('Clear all course data? This cannot be undone!')) {
                localStorage.removeItem('mathematicsContentData');
                localStorage.removeItem('mathematicsFolders');
                localStorage.removeItem('physicsContentData');
                localStorage.removeItem('physicsFolders');
                localStorage.removeItem('englishContentData');
                localStorage.removeItem('englishFolders');
                alert('‚úÖ All data cleared!');
                checkData();
            }
        }
        
        // Auto-load on page load
        checkData();
    </script>
</body>
</html>

































